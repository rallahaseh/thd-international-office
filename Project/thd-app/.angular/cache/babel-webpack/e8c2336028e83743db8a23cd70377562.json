{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/chat.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/flex-layout/flex\";\n\nfunction ChatComponent_ng_container_0_ng_container_1_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-chat-message\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const msg_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const user_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"msg\", msg_r5)(\"predecessor\", i_r6 - 1 >= 0 ? ctx_r4.messages[i_r6 - 1] : null)(\"user\", user_r3);\n  }\n}\n\nfunction ChatComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelement(2, \"app-chat-header\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtemplate(4, ChatComponent_ng_container_0_ng_container_1_ng_container_4_Template, 2, 3, \"ng-container\", 4);\n    i0.ɵɵelement(5, \"app-typing-indicator\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"app-chat-controls\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.ngIf;\n    const chat_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"chatId\", chat_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.messages)(\"ngForTrackBy\", ctx_r2.trackByCreated);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", user_r3)(\"typing\", chat_r1.typing);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"chatId\", chat_r1.id);\n  }\n}\n\nfunction ChatComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ChatComponent_ng_container_0_ng_container_1_Template, 7, 6, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.auth.user$));\n  }\n}\n\nexport class ChatComponent {\n  constructor(chatService) {\n    this.chatService = chatService;\n    this.newMessage = '';\n    this.messageList = [];\n  }\n\n  ngOnInit() {\n    this.chatService.getNewMessage().subscribe(message => {\n      this.messageList.push(message);\n    });\n  }\n\n  sendMessage() {\n    this.chatService.sendMessage(this.newMessage);\n    this.newMessage = '';\n  }\n\n}\n\nChatComponent.ɵfac = function ChatComponent_Factory(t) {\n  return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.ChatService));\n};\n\nChatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ChatComponent,\n  selectors: [[\"app-chat\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"fxLayout\", \"column\", \"fxLayoutAlign\", \"center center\", 2, \"width\", \"50%\", \"min-width\", \"600px\", \"height\", \"100%\"], [\"fxFlex\", \"64px\", 2, \"width\", \"100%\", 3, \"chatId\"], [\"fxLayout\", \"column\", 2, \"width\", \"100%\", \"overflow-y\", \"scroll\", \"background-color\", \"lightgray\", \"box-shadow\", \"inset 0px 0px 10px rgba(0,0,0,0.5)\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"user\", \"typing\"], [2, \"width\", \"100%\", 3, \"chatId\"], [3, \"msg\", \"predecessor\", \"user\"]],\n  template: function ChatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ChatComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.chat$));\n    }\n  },\n  directives: [i2.NgIf, i3.DefaultLayoutDirective, i3.DefaultLayoutAlignDirective, i3.DefaultFlexDirective, i2.NgForOf],\n  pipes: [i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjaGF0LmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/Users/rallahaseh/Developer/DIT/thd-international-office/Project/thd-app/src/app/chat/chat.component.ts"],"names":["i0","i1","i2","i3","ChatComponent_ng_container_0_ng_container_1_ng_container_4_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelement","ɵɵelementContainerEnd","msg_r5","$implicit","i_r6","index","user_r3","ɵɵnextContext","ngIf","ctx_r4","ɵɵadvance","ɵɵproperty","messages","ChatComponent_ng_container_0_ng_container_1_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","chat_r1","ctx_r2","id","trackByCreated","typing","ChatComponent_ng_container_0_Template","ɵɵpipe","ctx_r0","ɵɵpipeBind1","auth","user$","ChatComponent","constructor","chatService","newMessage","messageList","ngOnInit","getNewMessage","subscribe","message","push","sendMessage","ɵfac","ChatComponent_Factory","t","ɵɵdirectiveInject","ChatService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ChatComponent_Template","chat$","directives","NgIf","DefaultLayoutDirective","DefaultLayoutAlignDirective","DefaultFlexDirective","NgForOf","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/chat.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/flex-layout/flex\";\nfunction ChatComponent_ng_container_0_ng_container_1_ng_container_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-chat-message\", 7);\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const msg_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const user_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"msg\", msg_r5)(\"predecessor\", i_r6 - 1 >= 0 ? ctx_r4.messages[i_r6 - 1] : null)(\"user\", user_r3);\n} }\nfunction ChatComponent_ng_container_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelement(2, \"app-chat-header\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtemplate(4, ChatComponent_ng_container_0_ng_container_1_ng_container_4_Template, 2, 3, \"ng-container\", 4);\n    i0.ɵɵelement(5, \"app-typing-indicator\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"app-chat-controls\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const user_r3 = ctx.ngIf;\n    const chat_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"chatId\", chat_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.messages)(\"ngForTrackBy\", ctx_r2.trackByCreated);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", user_r3)(\"typing\", chat_r1.typing);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"chatId\", chat_r1.id);\n} }\nfunction ChatComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ChatComponent_ng_container_0_ng_container_1_Template, 7, 6, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.auth.user$));\n} }\nexport class ChatComponent {\n    constructor(chatService) {\n        this.chatService = chatService;\n        this.newMessage = '';\n        this.messageList = [];\n    }\n    ngOnInit() {\n        this.chatService.getNewMessage().subscribe((message) => {\n            this.messageList.push(message);\n        });\n    }\n    sendMessage() {\n        this.chatService.sendMessage(this.newMessage);\n        this.newMessage = '';\n    }\n}\nChatComponent.ɵfac = function ChatComponent_Factory(t) { return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.ChatService)); };\nChatComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ChatComponent, selectors: [[\"app-chat\"]], decls: 2, vars: 3, consts: [[4, \"ngIf\"], [\"fxLayout\", \"column\", \"fxLayoutAlign\", \"center center\", 2, \"width\", \"50%\", \"min-width\", \"600px\", \"height\", \"100%\"], [\"fxFlex\", \"64px\", 2, \"width\", \"100%\", 3, \"chatId\"], [\"fxLayout\", \"column\", 2, \"width\", \"100%\", \"overflow-y\", \"scroll\", \"background-color\", \"lightgray\", \"box-shadow\", \"inset 0px 0px 10px rgba(0,0,0,0.5)\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"user\", \"typing\"], [2, \"width\", \"100%\", 3, \"chatId\"], [3, \"msg\", \"predecessor\", \"user\"]], template: function ChatComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, ChatComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.chat$));\n    } }, directives: [i2.NgIf, i3.DefaultLayoutDirective, i3.DefaultLayoutAlignDirective, i3.DefaultFlexDirective, i2.NgForOf], pipes: [i2.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjaGF0LmNvbXBvbmVudC5zY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}